<!DOCTYPE html>
<html class="dark" lang="es">
<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>FindMe - Iniciar Sesi贸n</title>
    <link crossorigin="" href="https://fonts.gstatic.com/" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style type="text/tailwindcss">

    </style>
    <!-- Actualizar base href para GitHub Pages -->
    <base href="/findme-app/">
    <script>
        // ...existing code...
    </script>
</head>
<body class="bg-card font-display text-foreground">
    <!-- Contenido de la aplicaci贸n -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('login-form');
            const BASE_URL = '/findme-app';
            // Actualizar la URL base para GitHub Pages
            const API_URL = 'https://findme-app-backend.onrender.com';
            
            form.addEventListener('submit', async (event) => {
                event.preventDefault();
                const formData = new FormData(form);
                const data = Object.fromEntries(formData);
                
                const response = await fetch(`${API_URL}/auth/login`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });
                
                if (response.ok) {
                    const data = await response.json();
                    localStorage.setItem('token', data.token);
                    window.location.href = `${BASE_URL}/dashboard.html`;
                } else {
                    // Manejar errores de autenticaci贸n
                    const errorData = await response.json();
                    console.error('Error de autenticaci贸n:', errorData.message);
                }
            });
        });
    </script>
</body>
</html>